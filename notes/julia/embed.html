<script type="text/javascript">

    function getLangId(lang) {
        if (!lang || typeof lang !== 'string') return 1;
        if (lang.length > 2) lang = lang.substring(0, 2);

        switch (lang.toUpperCase()) {
            case 'EN':
                return 1;
            case 'DE':
                return 2;
            case 'NL':
                return 3;
            case 'IT':
                return 4;
            case 'FR':
                return 5;
            case 'HU':
                return 6;
            case 'RU':
                return 10;
            default:
                return 1
        }
    }

    function getAppartmentId() {
        var url = window.location.href;
        if (url.indexOf('apartment-efeu') > -1) {
            return 11;
        }
        if (url.indexOf('apartment-eggeri') > -1) {
            return 12;
        }
        return 12;

        console.error('APARTMENT NOT FOUND IN URL:', url);
    }

    function createJuliaLink(_userId, _langId, _appartmentId) {
        // https://www.easy-booking.at/clientWeb001/#7233/2/category/11
        return `https://www.easy-booking.at/clientWeb001/#${_userId}/${_langId}/category/${_appartmentId}`;
    }


    function embedJulia() {

        var lang = window.navigator.language || window.navigator.userLanguage;
        var langId = getLangId(lang);
        var userId = '7233';
        var langId = '2';
        var appartmentId = getAppartmentId();
        var link = createJuliaLink(userId, langId, appartmentId)

        var targetEl = document.getElementById('brsi-embed-julia');
        targetEl.setAttribute('src', link);

    }

    var interval = setInterval(() => {
        try {
            embedJulia();
            clearInterval(interval);
        } catch (err) {
            console.error(err);
        }
    }, 300);

</script>

<iframe width="80%" height="70%" id="brsi-embed-julia"></iframe>